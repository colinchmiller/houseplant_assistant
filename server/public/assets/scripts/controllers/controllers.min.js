/*! 2015-12-02 */
myApp.controller("LoginController",["$scope","$http",function(a,b){console.log("LoginController is running"),a.getUser=function(){b({method:"GET",url:"/login",params:{username:a.selectedUser.username,password:a.selectedUser.password}}).then(function(a){console.log("This is the response: ",a)})}}]),myApp.controller("PlantController",["$scope","$http",function(a,b){console.log("PlantController is running"),a.plants=[],a.getPlants=function(){b({method:"GET",url:"/plants"}).then(function(b){console.log(b),a.plants=b.data})},a.getPlants()}]),myApp.controller("RoomController",["$scope","$http",function(a,b){console.log("RoomController is now running.");var c;a.getUser=function(){b({method:"GET",url:"/login"}).then(function(a){c=a.data})},a.getRoomData=function(){a.roomData=[],b({method:"GET",url:"/room",params:{username:a.username}}).then(function(b){console.log("The room response: ",b),a.roomData=b.data})},a.getUser()}]);var username;myApp.controller("WindowCriteriaController",["$scope","$http",function(a,b){console.log("WindowCriteriaController is now running"),a.plantinventory=[],a.windowcost=0,a.benzene=0,a.trichloroethylene=0,a.formaldehyde=0,a.plantsForWindow=[],a.windowData=[],a.windownames=[],a.getUser=function(){b({method:"GET",url:"/login"}).then(function(b){username=b.data,a.getWindows()})},a.getWindows=function(){b({method:"GET",url:"/windownames",params:{username:username}}).then(function(b){a.windownames=b.data})},a.getWindowData=function(){a.windowData=[];var d=a.selectedWindow.name;b({method:"GET",url:"/windows",params:{windowName:d}}).then(function(b){a.windowData=b.data,c(b.data[0].id)})};var c=function(c){a.windowTotals=[],a.plantinventory=[],a.windowcost=0,a.benzene=0,a.trichloroethylene=0,a.formaldehyde=0,b({method:"GET",url:"/windowplants",params:{windowId:c}}).then(function(b){a.plantsForWindow=b.data,a.plantinventory.push(a.plantsForWindow[0].name),a.windowcost+=a.plantsForWindow[0].cost,a.benzene+=a.plantsForWindow[0].benzene,a.trichloroethylene+=a.plantsForWindow[0].trichloroethylene,a.formaldehyde+=a.plantsForWindow[0].formaldehyde})};a.saveWindow=function(){console.log("This is the windowdata to be sent: ",a.windowData),b({method:"POST",url:"/windows",data:{windowdata:a.windowData}}).then(function(a){console.log("This is the post response: ",a),e(a.data.rows[0].id),d(a.data.rows[0].id)})};var d=function(a){b({method:"POST",url:"/windownames",data:{windowId:a,username:username}}).then(function(a){console.log("The response from the windowassign upload: ",a)})},e=function(c){b({method:"POST",url:"/windowplants",data:{windowId:c,plantdata:a.plantinventory}}).then(function(a){console.log("The plant upload response: ",a)})};a.suggestPlant=function(c){b({method:"GET",url:"/plants"}).then(function(b){console.log("Here is the plant response: ",b),a.plants=b.data})},a.getUser()}]);